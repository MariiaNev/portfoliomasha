import{g as u}from"./DDlvirwQ.js";import{S as g}from"./CB6UHAJl.js";import{g as b,r as m,j as k,c as p,o as y,a as s,t as h,F as w,m as C,x as R,_ as T,b as F}from"./yzIvOXMI.js";const z={class:"sticky"},A={class:"image-stack"},E=b({__name:"CardsScroll",setup(_){const t=[{year:"2020",title:"First launch",description:"Some text here",image:"/images/homely/homely1.webp"},{year:"2021",title:"Second step",description:"Another text",image:"/images/homely/homely2.webp"},{year:"2020",title:"First launch",description:"Some text here",image:"/images/homely/homely3.webp"},{year:"2021",title:"Second step",description:"Another text",image:"/images/homely/homely4.webp"},{year:"2020",title:"First launch",description:"Some text here",image:"/images/homely/homely5.webp"},{year:"2021",title:"Second step",description:"Another text",image:"/images/homely/homely6.webp"}];u.registerPlugin(g);const n=m(null),l=m([]),i=m(null),c=m(null);k(()=>{if(!n.value||l.value.length===0)return;const o=t.length,f=1;l.value.forEach((e,r)=>{u.set(e,{position:"absolute",inset:0,zIndex:o-r,y:r===0?0:100,rotateX:r===0?0:-4,rotateZ:0,scale:r===0?1:.92,willChange:"transform"})});const a=u.timeline({scrollTrigger:{trigger:n.value,start:"top top",end:`+=${(o-1)*100}%`,scrub:!0,pin:!0,invalidateOnRefresh:!0}});for(let e=1;e<o;e++){const r=l.value[e-1],x=l.value[e],S=e%2===0?1:-1,d=e*f;a.to(r,{y:-40,rotateX:8,rotateZ:S*6,scale:.92,zIndex:1,ease:"power2.out"},d),a.fromTo(x,{y:100,rotateX:-4},{y:0,rotateX:0,zIndex:2,ease:"power2.out"},d),a.call(()=>v(e),[],d+.4)}return()=>{a.kill(),g.getAll().forEach(e=>e.kill())}});function v(o){!i.value||!c.value||u.to([i.value,c.value],{opacity:0,y:6,duration:.2,onComplete:()=>{i.value.innerText=t[o].year,c.value.innerText=t[o].description,u.to([i.value,c.value],{opacity:1,y:0,duration:.25})}})}return(o,f)=>(y(),p("section",{ref_key:"sectionRef",ref:n,class:"cards-section"},[s("div",z,[s("div",{class:"year",ref_key:"yearRef",ref:i},h(t[0].year),513),s("div",A,[(y(),p(w,null,C(t,(a,e)=>s("div",{key:e,class:"image",ref_for:!0,ref:r=>l.value[e]=r,style:R({backgroundImage:`url(${a.image})`})},null,4)),64))]),s("div",{class:"text",ref_key:"textRef",ref:c},h(t[0].description),513)])],512))}}),I=Object.assign(E,{__name:"CardsScroll"}),X={};function B(_,t){const n=I;return y(),p("div",null,[t[0]||(t[0]=s("h2",null,"Our Journey",-1)),F(n)])}const N=T(X,[["render",B]]);export{N as default};
