import{_ as C}from"./DedOCkLf.js";import{_ as X}from"./CbrPrhIi.js";import{g as a}from"./DDlvirwQ.js";import{S as y,p as o}from"./BTp_X9_1.js";import{g as j,r as i,j as B,s as Z,k as E,c as g,o as v,a as s,d as I,t as l,q as n,F as N,m as V,x as $,b as R,w as W,_ as F}from"./wTH9sP0d.js";const L={class:"container"},M={class:"formula vTitle cardsTitleBlock"},O={class:"formula"},P={class:"cardsSection__sticky"},U={class:"cardsSection__imageStack"},q={class:"formula cardsSection__moreWorkText"},D={class:"cardsSection__text"},G={class:"cardsSection__header"},H=j({__name:"CardsScroll",setup(J){a.registerPlugin(y);const u=i(null),_=i([]),d=i(null),p=i(null),f=i(null),m=i(null);let S=0,x=null;B(async()=>{!u.value||_.value.length===0||(await Z(),T(),w())}),E(()=>{x?.kill(),y.getAll().forEach(t=>t.kill())});function T(){_.value.forEach((t,e)=>{a.set(t,{position:"absolute",inset:0,y:0,rotateX:0,rotateZ:0,scale:1,opacity:1,zIndex:o.length-e,transformPerspective:1200,willChange:"transform"})})}function w(){const t=o.length;x=y.create({trigger:u.value,start:"top top",end:`+=${(t-1)*100}%`,scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate(e){const r=a.utils.clamp(0,t-1,Math.floor(e.progress*t));r!==S&&(S=r,b(r))}})}function b(t){_.value.forEach((e,r)=>{const c=r-t;c===0?a.to(e,{y:0,rotateX:0,rotateZ:0,scale:1,opacity:1,zIndex:100,duration:.9,ease:"power3.out"}):c===-1?a.to(e,{y:-36,rotateX:6,rotateZ:-8,scale:.94,opacity:1,zIndex:90,duration:.9,ease:"power3.out"}):c===-2?a.to(e,{y:-76,rotateX:10,rotateZ:8,scale:.88,opacity:1,zIndex:80,duration:.9,ease:"power3.out"}):c<-2?a.set(e,{y:-140,rotateX:14,scale:.84,opacity:0,zIndex:1}):a.to(e,{y:0,rotateX:-6,rotateZ:0,scale:.92,opacity:1,zIndex:1,duration:.9,ease:"power3.out"})}),A(t)}function A(t){const e=[d.value,p.value,f.value,m.value];e.some(r=>!r)||a.to(e,{opacity:0,y:10,duration:.2,onComplete:()=>{d.value.innerText=o[t].year,p.value.innerText=o[t].name,f.value.innerText=o[t].descriptionAbout,m.value.innerText=o[t].description,a.to(e,{opacity:1,y:0,duration:.3})}})}return(t,e)=>{const r=C,c=X;return v(),g("div",L,[s("h2",M,[e[0]||(e[0]=I(" All works ",-1)),s("span",O,"("+l(String(n(o)?.length).padStart(2,"0"))+")",1)]),s("section",{ref_key:"sectionRef",ref:u,class:"cardsSection"},[s("div",P,[s("div",{class:"cardsSection__year",ref_key:"yearRef",ref:d},l(n(o)[0].year),513),s("div",U,[(v(!0),g(N,null,V(n(o),(k,h)=>(v(),g("div",{key:h,class:"cardsSection__image",ref_for:!0,ref:z=>n(_)[h]=z,style:$({backgroundImage:`url(${k.sliderImage})`})},[R(c,{class:"cardsSection__more",to:`/projects/${k.url}`,title:"card.name"},{default:W(()=>[s("span",q,[e[1]||(e[1]=I(" View project ",-1)),R(r,{class:"cardsSection__moreWorkIcon"})])]),_:1},8,["to"])],4))),128))]),s("div",D,[s("div",G,[s("p",{class:"cardsSection__name",ref_key:"nameRef",ref:p},l(n(o)[0].name),513),s("p",{class:"cardsSection__descriptionAbout",ref_key:"aboutRef",ref:f},l(n(o)[0].descriptionAbout),513)]),s("p",{class:"cardsSection__description",ref_key:"descriptionRef",ref:m},l(n(o)[0].description),513)])])],512)])}}}),oe=Object.assign(F(H,[["__scopeId","data-v-59108817"]]),{__name:"CardsScroll"});export{oe as _};
